<!DOCTYPE html>
<html lang="en">
<head>
<title>Simple package</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- ocpu library -->
<script src="opencpu/jquery-1.10.2.min.js"> </script>
<script src="opencpu/opencpu-0.4.js"> </script>

<!-- Include order: first jquery, then opencpu.js, and then your code 
    <script src="jquery-2.1.1.js"></script>
    <script src="opencpu-0.5.js"></script>-->

<!-- some optional styling stuff -->
<!--<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="jqueryui/css/ui-lightness/jquery-ui-1.10.3.custom.css" rel="stylesheet" media="screen">

<script src="bootstrap/js/bootstrap.js"> </script>
<script src="jqueryui/jquery-ui-1.10.3.custom.js"> </script>-->



<script> 
//<![CDATA[ 
window.onload=function(){
//set CORS to call "appdemo" package on public server
//set CORS to call "appdemo" package on public server
//ocpu.seturl("//public.opencpu.org/ocpu/library/stats/R")
//ocpu.seturl("//localhost:6187/ocpu/library/mypackage/R")

//call R function: appdemo::randomplot(n=nfield, dist=distfield):
// $("button").click(function(){
//     var nfield = parseInt($("#nfield").val());
//     var distfield = $("#distfield").val();    
//     var req = $("#plotdiv").rplot("randomplot", {
//         n : nfield,
//         dist : distfield
//     }).fail(function(){
//         alert("R returned an error: " + req.responseText); 
//     });
// });
$("submitbutton").click(function(){
    //var mydata = [1,2];
    
    //call R function: stats::sd(x=data)
    var req = ocpu.rpc("addition",{
        a : 1,
        b : 2
    }, function(output){
        $("#output").text("Addition is:" + output);
    });
});

}//]]>  

</script>

<!--<style>
#plotdiv {
  width: 100%;
  height: 400px;
  border: 1px solid #e3e3e3;
  border-radius: 4px;
}
</style>-->
</head>

<body>

<h1>Simple package</h1>

<!--<b>n (count) </b> <input type="number" id="nfield" value="1000">

<b>distribution type</b> <select id="distfield">
<option>normal</option>
<option>uniform</option>
</select> <br>
-->
<button id="submitbutton" type="button">Submit to server!</button> <br>

<!--<div id="plotdiv"></div>    -->
<div id="output"></div>    


<!-- some text, not part of the app -->
<p>This is a demo of the <code>rplot</code> function in the <a href="http://public.opencpu.org/jslib.html">opencpu.js</a> library. It calls the R function <a href="http://public.opencpu.org/ocpu/library/appdemo/R/randomplot">randomplot</a> in the R package <a href="http://public.opencpu.org/ocpu/library/appdemo/R/">appdemo</a>.</p>

</body>
</html>